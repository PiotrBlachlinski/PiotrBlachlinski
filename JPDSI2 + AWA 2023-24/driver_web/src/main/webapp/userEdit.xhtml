<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
	
<f:metadata>
    <f:viewAction action="#{userEditBB.onLoad()}" />
</f:metadata>	

<h:head>
	<meta charset="utf-8" />
	<title>Driver - Users</title>
</h:head>
<h:body style="background-color: #eee; margin: 0.5em;">

	<h:form>

	<div class="card">
	<p:linkButton outcome="login" value="Zaloguj się" style="margin-right:20px;"/>
	<p:commandButton value="Dodaj nową osobę" action="#{userListBB.newUser()}" style="margin-right:20px;" />
    <p:linkButton outcome="homepage" value="homepage" style="margin-right:20px;"/>
    <p:linkButton outcome="carListGuest" value="carListGuest" style="margin-right:20px;"/>
    </div>
    
    </h:form>
    
	<p:divider />


	<p:messages />
	
	<p:divider />
	To jest strona rejestracji
	<p:divider />
	
	<p:panel toggleable="true" header="Utwórz profil">

			
			<h:form rendered="#{userEditBB.user != null}">
			<h:panelGrid columns="3" cellpadding="5">


				<h:outputLabel for="p-name" value="imię:" />
				<p:inputText id="p-name" value="#{userEditBB.user.name}"
					required="true" requiredMessage="Podaj imię"
					validatorMessage="co najwyżej 40 znaków">
					<f:validateLength maximum="40" />
				</p:inputText>
				<p:message for="p-name" display="icon"/>

				<h:outputLabel for="p-surname" value="nazwisko:" />
				<p:inputText id="p-surname" value="#{userEditBB.user.surname}"
					required="true" requiredMessage="podaj nazwisko"
					validatorMessage="co najwyżej 40 znaków">
					<f:validateLength maximum="40" />
				</p:inputText>
				<p:message for="p-surname" display="icon"/>
				
				<h:outputLabel for="p-username" value="username:" />
				<p:inputText id="p-username" value="#{userEditBB.user.username}"
					required="true" requiredMessage="podaj username"
					validatorMessage="co najwyżej 40 znaków">
					<f:validateLength maximum="40" />
				</p:inputText>
				<p:message for="p-username" display="icon"/>
				
				<h:outputLabel for="p-password" value="password:" />
				<p:password id="p-password" value="#{userEditBB.user.password}" match="p-passwordrep"
					required="true" requiredMessage="podaj password"
					validatorMessage="Hasła się nie zgadzają" toggleMask="true">
					<f:validateLength maximum="40" />
				</p:password>
				<p:message for="p-password" display="icon"/>
				
				<h:outputLabel for="p-passwordrep" value="passwordrep:" />
				<p:password id="p-passwordrep" value="#{userEditBB.user.password}" 
					required="true" requiredMessage="podaj passwordrep"
					validatorMessage="co najwyżej 40 znaków" toggleMask="true">
					<f:validateLength maximum="40" />
				</p:password>
				<p:message for="p-passwordrep" display="icon"/>

			
			</h:panelGrid>

			<p:messages id="msgs" />

			<p:commandButton value="Zapisz" action="#{userEditBB.saveData()}"
				style="margin-right: 1em;" update="@form" />

			<p:button value="Anuluj" outcome="homepage" />
		</h:form>

	</p:panel>
	
	
	
	
	
	
	

</h:body>
</html>	